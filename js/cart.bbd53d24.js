(function(e){function t(t){for(var i,r,s=t[0],u=t[1],d=t[2],a=0,f=[];a<s.length;a++)r=s[a],o[r]&&f.push(o[r][0]),o[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);h&&h(t);while(f.length)f.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],i=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(i=!1)}i&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={cart:0},c=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/youzan_demo/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var h=u;c.push([1,"chunk-vendors","chunk-common"]),n()})({"0fec":function(e,t,n){},1:function(e,t,n){e.exports=n("1f06")},"1f06":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("2994");var i=n("2bdd"),o=(n("e17f"),n("2241")),c=(n("cadf"),n("551c"),n("f751"),n("097d"),n("a026")),r=n("a2c0"),s=n("bc3a"),u=n.n(s),d=n("3251"),h=(n("6606"),n("1209"));n("c1e8"),n("0fec"),n("bef4"),n("3c43");c["a"].use(i["a"]).use(o["a"]),new c["a"]({created:function(){this.getList()},el:"#app",data:{lists:null,total:0,editingShop:null,editingShopIndex:-1},computed:{allSelected:{get:function(){return!(!this.lists||!this.lists.length)&&this.lists.every(function(e){return e.checked})},set:function(e){this.lists.forEach(function(t){t.checked=e,t.goodsList.forEach(function(t){t.checked=e})})}},allRemoveSelected:{get:function(){return!!this.editingShop&&this.editingShop.removeChecked},set:function(e){this.editingShop&&(this.editingShop.removeChecked=e,this.editingShop.goodsList.forEach(function(t){t.removeChecked=e}))}},selectLists:function(){if(this.lists&&this.lists.length){var e=[],t=0;return this.lists.forEach(function(n){n.goodsList.forEach(function(n){n.checked&&(e.push(n),t+=n.price*n.number)})}),this.total=t,e}return[]},removeLists:function(){if(this.editingShop){var e=[];return this.editingShop.goodsList.forEach(function(t){t.removeChecked&&e.push(t)}),e}return[]}},methods:{getList:function(){var e=this;u.a.get(d["a"].cartLists).then(function(t){var n=t.data.cartList;n.forEach(function(e){e.checked=!0,e.removeChecked=!1,e.editing=!1,e.editingMsg="编辑",e.goodsList.forEach(function(e){e.checked=!0,e.removeChecked=!1})}),e.lists=n})},selectGood:function(e,t){var n=this.editingShop?"removeChecked":"checked";t[n]=!t[n],e[n]=e.goodsList.every(function(e){return e[n]})},selectShop:function(e){var t=this.editingShop?"removeChecked":"checked";e[t]=!e[t],e.goodsList.forEach(function(n){n[t]=e[t]})},selectAll:function(){var e=this.editingShop?"allRemoveSelected":"allSelected";this[e]=!this[e]},edit:function(e,t){e.editing=!e.editing,e.editingMsg=e.editing?"完成":"编辑",this.lists.forEach(function(n,i){t!==i&&(n.editing=!1,n.editingMsg=e.editing?"":"编辑")}),this.editingShop=e.editing?e:null,this.editingShopIndex=e.editing?t:-1},reduce:function(e){1!==e.number&&u.a.get(d["a"].cartreduce,{id:e.id,number:1}).then(function(t){console.log("减少了id为".concat(e.id,"的商品,下方为mock模拟回的数据"),t),e.number--})},add:function(e){u.a.get(d["a"].addCart,{id:e.id,number:1}).then(function(t){console.log("增加了id为".concat(e.id,"的商品,下方为mock模拟回的数据"),t),e.number++})},remove:function(e,t,n,i){var c=this;o["a"].confirm({title:"清除宝贝",message:"确定要清除购物车上的物品"}).then(function(){u.a.get(d["a"].cartRemove,{id:n.id}).then(function(n){console.log("删除成功",n),1===e.goodsList.length&&(c.lists.splice(t,1),c.removeShop()),e.goodsList.splice(i,1)})}).catch(function(){return!1})},removeShop:function(){this.editingShop&&(this.editingShop=!this.editingShop),this.lists.forEach(function(e){e.editing=!1,e.editingMsg="编辑"})},deleteAll:function(){var e=this;o["a"].confirm({title:"清除确认",message:"清除商店所有物品"}).then(function(){var t=[],n=e.removeLists.map(function(n){return t.push(e.editingShop.goodsList.indexOf(n)),n.id}),i=e.editingShop,o=e.lists.indexOf(e.editingShop);u.a.get(d["a"].cartMremove,{goodRemoveArr:n}).then(function(n){t.reverse().forEach(function(e){i.goodsList.splice(e,1)}),i.goodsList.length||(e.lists.splice(o,1),e.removeShop()),console.log("删除成功",n)})}).catch(function(){return!1})},start:function(e,t){t.startX=e.changedTouches[0].clientX},end:function(e,t,n,i){var o=e.changedTouches[0].clientX,c="0";n.startX-o>50&&(c="-60px"),o-n.startX>50&&(c="0px"),Object(h["a"])({targets:this.$refs["goods-".concat(t,"-").concat(i)],translateX:c,duration:500})}},mixins:[r["a"]]})},bef4:function(e,t,n){},c1e8:function(e,t,n){}});
//# sourceMappingURL=cart.bbd53d24.js.map